import java.net.InetSocketAddress;
import java.net.SocketException;


public class StatsClient {

	private static byte[] generateData(int numKB) {
		final String oneKBData = "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789"
									+ "012345678901234567890123";
		
		String data = "";
		for (int i = 1; i <= numKB; i++) {
			data += oneKBData;
		}
		return data.getBytes();
	}
	
	/**
	 * @param args
	 * @throws Exception 
	 */
	public static void main(String[] args) throws Exception {
		InetSocketAddress serverAddress = new InetSocketAddress("localhost", 12345);
		S_StreamSocket s = new S_StreamSocket(null);
		s.S_connect(serverAddress);
		
		int[] testSizes = {1, 5, 20, 75, 250};
		final byte[] data = generateData(testSizes[testSizes.length - 1]);
		
		for(int curTestSize : testSizes) {
			System.out.println("Send size: " + curTestSize*1024 + "bytes | Send timestamp: " + System.currentTimeMillis());
			s.S_send(data, curTestSize*1024);
		}
		
	}

}
